<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NERDSS: Input File Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NERDSS
   &#160;<span id="projectnumber">0.90</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Input File Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#params">Input File Format</a><ul><li class="level2"><a href="#paramKeys">Parameter Keywords</a><ul><li class="level3"><a href="#sys">System Parameters</a></li>
<li class="level3"><a href="#simul">Simulation Parameters</a></li>
</ul>
</li>
<li class="level2"><a href="#rxnKeys">Reaction Block Keywords</a></li>
<li class="level2"><a href="#paramExample">Example File</a></li>
</ul>
</li>
<li class="level1"><a href="#mol">Molecule Files</a><ul><li class="level2"><a href="#molKeys">Mol File Keywords</a></li>
<li class="level2"><a href="#molFileExample">Example File</a></li>
</ul>
</li>
<li class="level1"><a href="#rxn">Reaction Declarations</a><ul><li class="level2"><a href="#rxnSyn">Syntax</a></li>
<li class="level2"><a href="#supportedRxns">Supported Reaction Types</a></li>
<li class="level2"><a href="#limits">Current Limitations</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Information on how to read, use, and format the input files for the software.</p>
<h1><a class="anchor" id="params"></a>
Input File Format</h1>
<ul>
<li>Blocks are started with the <code>start</code> keyword and ended with the <code>end</code> keyword, e.g. <pre class="fragment">start molecules
end molecules
</pre><ul>
<li>Three block types are used, <code>parameters</code>, <code>molecules</code>, and <code>reactions</code>. <code>molecules</code> must be defined before <code>reactions</code></li>
</ul>
</li>
<li><a class="el" href="struct_molecule.html" title="Contains information for one specie (protein, lipid, etc.) in the system.">Molecule</a> (<a class="el" href="struct_mol_template.html" title="Data structure for holding the molecule types.">MolTemplate</a>) information is stored in <code>*.mol</code> files, with the prefix being the molecule with named identically to that used in the reactions</li>
</ul>
<h2><a class="anchor" id="paramKeys"></a>
Parameter Keywords</h2>
<h3><a class="anchor" id="sys"></a>
System Parameters</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Keyword  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NumMolTypes  </td><td class="markdownTableBodyNone">total number of molecules in the system (integer)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NumIfaces  </td><td class="markdownTableBodyNone">total number of interfaces and states in the system (integer)   </td></tr>
</table>
<h3><a class="anchor" id="simul"></a>
Simulation Parameters</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Keyword  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NItr<sup>✝</sup>  </td><td class="markdownTableBodyNone">requested number of iterations (timesteps) (integer)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">deltat<sup>✝</sup>  </td><td class="markdownTableBodyNone">timestep length (integer)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">timeWrite  </td><td class="markdownTableBodyNone">interval to write timestep information (integer, default: 10)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">trajWrite  </td><td class="markdownTableBodyNone">interval to write to coordinates file (integer, default: 10)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">restartWrite<sup>1</sup>  </td><td class="markdownTableBodyNone">interval to write to restart file (integer, default: trajWrite)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">pdbWrite  </td><td class="markdownTableBodyNone">interval to write individual pdb files (mainly for nonequilibrium simulations (integer, default: 0)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">fromRestart  </td><td class="markdownTableBodyNone">Does the simulation start from a restart file. Not yet implemented (01/25/2019) (boolean, default: false)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">waterBox<sup>✝</sup>  </td><td class="markdownTableBodyNone">water box dimensions (array, [x, y, z])   </td></tr>
</table>
<p>✝ indicates a required keyword</p>
<p><sup>1</sup> Must be set such that restartWrite % trajWrite = 0</p>
<hr/>
<h2><a class="anchor" id="rxnKeys"></a>
Reaction Block Keywords</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Keyword  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">onRate<sup>✝</sup>  </td><td class="markdownTableBodyNone">On rate of the reaction (double)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">offRate  </td><td class="markdownTableBodyNone">Off rate of the reaction, if reversible (double)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">sigma  </td><td class="markdownTableBodyNone">distance between the two reacting interfaces for a bimolecular reaction (double or array, [x, y, z], default: 1.0 nm)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">assocAngles<sup>1</sup>  </td><td class="markdownTableBodyNone"><a class="el" href="struct_angles.html" title="Data structure for holding the association angles of a bimolecular reaction.">Angles</a> for bimolecular association (array, [theta1, theta2, phi1, phi2, omega], radians)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">norm1, norm2<sup>2</sup>  </td><td class="markdownTableBodyNone">vector used to calculate the phi1 and phi2 angles (and sometimes omega)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">observeLabel  </td><td class="markdownTableBodyNone">label for tracking the reaction product (string, see Species Tracking)   </td></tr>
</table>
<p>✝ indicates a required keyword for all reaction</p>
<p><sup>1</sup> If the angle does not exist, e.g. two rods-type molecules associating with <img class="formulaInl" alt="$\theta$" src="form_0.png"/>'s equal to <img class="formulaInl" alt="$\pi$" src="form_1.png"/> will not not have an omega angle (see <a class="el" href="association.html">Association Algorithm</a>), the angle should read "nan" or "null"</p>
<p><sup>2</sup> numbering must match the order of reactants (e.g. norm1 goes with the leftmost reactant</p>
<ul>
<li>Reaction specific required keywords:<ul>
<li>Bimolecular association: OnRate, Sigma, <a class="el" href="struct_angles.html" title="Data structure for holding the association angles of a bimolecular reaction.">Angles</a></li>
<li>Reversible reactions: OnRate, OffRate</li>
</ul>
</li>
<li>Rate units:<ul>
<li>Unbinding: s<sup>-1</sup></li>
<li>Creation: M/s</li>
<li>Association:<ul>
<li>3D: nm<sup>3</sup>/us</li>
<li>2D: nm<sup>2</sup>/us</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h2><a class="anchor" id="paramExample"></a>
Example File</h2>
<pre class="fragment">start parameters
    nItr = 5000
    deltaT = 0.1

    waterBox=[400,400,400]

    timeWrite = 1000
    trajWrite = 1000
    restartWrite = 1000
    fromRestart = false
end parameters

start molecules
    pip2
    ap2
    clat
end molecules

start reactions
    # Reactions
    ap2(b2clat, m2muh) + pip2(head) &lt;-&gt; ap2(b2clat,m2muh!1).pip2(head!1)
    onRate = 50 #On-rate unit: uM-1/s
    offRate = 10.0 #Off-rate unit: 1/s
    sigma = 1.0 #Sigma unit: nm
    assocAngles = [1.5708, 1.5708, nan, nan, M_PI] #Angles unit: radians
end reactions
</pre><hr/>
<h1><a class="anchor" id="mol"></a>
Molecule Files</h1>
<h2><a class="anchor" id="molKeys"></a>
Mol File Keywords</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Keyword  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Name<sup>✝</sup>  </td><td class="markdownTableBodyNone"><a class="el" href="struct_molecule.html" title="Contains information for one specie (protein, lipid, etc.) in the system.">Molecule</a> name (must match that used in the provided reactions (string)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Copies<sup>✝</sup>  </td><td class="markdownTableBodyNone">Copy numbers of the molecule (integer)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">IsRod  </td><td class="markdownTableBodyNone">The molecule is one dimensional (boolean, optional, default: false)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">IsLipid  </td><td class="markdownTableBodyNone">The molecule is a lipid (boolean, optional, default: false)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">isPoint  </td><td class="markdownTableBodyNone">The molecule is a point, with no radius (boolean, optional, default: false)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">D<sup>✝</sup>  </td><td class="markdownTableBodyNone">Translational diffusion constants (array, [x, y, z])   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Dr<sup>✝</sup>  </td><td class="markdownTableBodyNone">Rotational diffusion constants (array, [x, y, z])   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COM<sup>✝</sup>  </td><td class="markdownTableBodyNone">Center of mass coordinates (x,y,z). Starts internal coordinates block (see below)   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">state  </td><td class="markdownTableBodyNone">Define interface states (string, see below)   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">bonds  </td><td class="markdownTableBodyNone">Predefined bonds for creating the PSF (two strings, see below)   </td></tr>
</table>
<p>✝ indicates a required keyword</p>
<ul>
<li>COM denotes the start of the internal coordinates block, which follows this format <pre class="fragment">COM       x y z
ifaceName x y z
...
</pre></li>
<li><code>ifaceName</code> must be the name of the iface, identical to that used in the reactions block</li>
<li><p class="startli">States are declared with the following format: </p><pre class="fragment">state = $ifaceName~X~Y
</pre><p class="startli">where <code>$ifaceName</code> is the name of the interface, as used in the reactions block, and <code>X</code> and <code>Y</code> are the state identities, which must be alphabetic characters</p>
</li>
<li>Bonds for the PSF are declared as a pair of interface names separated by whitespace, preceded by a declaration line: <pre class="fragment">bonds = 1 # 
$ifaceName1 $ifaceName2
</pre></li>
</ul>
<hr/>
<h2><a class="anchor" id="molFileExample"></a>
Example File</h2>
<pre class="fragment">##
# pip2 molecule information file
##

Name = pip2 
copies = 100
isRod = true
isLipid = true

# translational diffusion constants
D = [8, 1, 0]

# rotational diffusion constants
Dr = [1, 8, 0]

# Coordinates
COM    0.0000    0.0000    0.0000
head   0.0000    0.0000    1.0000

bonds
COM head
</pre><hr/>
<h1><a class="anchor" id="rxn"></a>
Reaction Declarations</h1>
<h2><a class="anchor" id="rxnSyn"></a>
Syntax</h2>
<ul>
<li>Reactions are defined as such: <code>A(a) + B(b) &lt;-&gt; A(a!1).B(b!1)</code>, where <code>A</code> and <code>B</code> are the reacting molecules, <code>a</code> and <code>b</code> are the reacting interfaces, "`!`" denotes an interaction with index <code>1</code>, and "`.`" indicates the two molecules are interacting</li>
<li>Reversible reactions are denoted by a double-headed arrow <code>&lt;-&gt;</code>, as opposed to a single-headed arrow <code>-&gt;</code>, and the existence of a defined off rate</li>
<li>Interfaces must be uniquely named, at least on each molecule type</li>
<li>States are allowed, and are not required to be binary. Denoted with a tilde, e.g. <code>A~P</code></li>
<li>Allowed one state change and one interaction change per reaction. Note that these are mutually exclusive w.r.t. individual interfaces, i.e. an interface can only change its state or interaction, not both</li>
<li>Ancillary interfaces are allowed. These can include interfaces with/without states/interactions that do not change their state or interaction in the particular reaction, but are required for the reaction to occur.<ul>
<li><p class="startli">Example:</p>
<p class="startli">Let's say a molecule <code>A</code> has two interfaces, <code>a1</code>, and <code>a2</code>, with <code>a2</code> having two states, <code>P</code> and <code>U</code>. If an interaction between <code>a1</code> and some interface <code>b</code> on molecule <code>B</code> is dependent on <code>a2</code> being in the <code>P</code> state, it could be written as: </p><pre class="fragment">A(a1,a2~P) + B(b) &lt;-&gt; A(a1!1,a2~P).B(b!1)
</pre></li>
<li>Ancillary interactions are allowed in the reactants, but only as a wildcard, not with an index, e.g. <pre class="fragment">A(a1!*,a2) ...
</pre> denoting <code>a1</code> is bound to something, it doesn't matter what.</li>
</ul>
</li>
<li>Wildcard states are allowed in the reactants/products by omitting the state of an interface which has states<ul>
<li><p class="startli">Example:</p>
<p class="startli">Using the above defined molecules <code>A</code> and <code>B</code>, this is allowed: </p><pre class="fragment">A(a1,a2) + B(b) &lt;-&gt; A(a1!1,a2).B(b!1)
</pre><p class="startli">Indicating the reaction can occur regardless of the state of <code>a2</code></p>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="supportedRxns"></a>
Supported Reaction Types</h2>
<ul>
<li>Symmetric reactions<ul>
<li>Example: <code>(A(a) + A(a) &lt;-&gt; A(a!1).A(a!1)</code></li>
</ul>
</li>
<li>Bimolecular association</li>
<li>Bimolecular state change<ul>
<li>Enzyme facilitated state changes</li>
</ul>
</li>
<li>Unimolecular state change</li>
<li>Dissociation</li>
<li>Creation from concentration<ul>
<li>Example: <code>0 -&gt; A(a)</code></li>
</ul>
</li>
<li>Creation from molecule<ul>
<li>Example: <code>A(a) -&gt; A(a) + B(b)</code></li>
</ul>
</li>
<li>Destruction<ul>
<li>Example: <code>A(a) -&gt; 0</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="limits"></a>
Current Limitations</h2>
<ul>
<li>A <a class="el" href="struct_molecule.html" title="Contains information for one specie (protein, lipid, etc.) in the system.">Molecule</a> must have at least one explicit interface listed, e.g. <code>A()</code> is not allowed.</li>
<li>Unimolecular destruction reactions can only have one associated rate and will only act upon a <a class="el" href="struct_molecule.html" title="Contains information for one specie (protein, lipid, etc.) in the system.">Molecule</a> (e.g. it will only consider wildcards, not explicitly stated bound molecules)</li>
<li>Bimolecular state changes have a few limitations:<ul>
<li>Bimolecular state changes can only occur when both interfaces are free</li>
<li>The facilitator can only have one interface explicitly listed (this will be changed) </li>
</ul>
</li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
